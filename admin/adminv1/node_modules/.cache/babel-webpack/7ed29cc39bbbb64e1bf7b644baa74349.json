{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let TokenService = /*#__PURE__*/(() => {\n  class TokenService {\n    constructor() {} //Pega o token\n\n\n    handle(data) {\n      this.setToken(data.token);\n      this.setNivel(data.user.nivel);\n      data.user.nivel === 'user' ? this.setUserAbilities(data.user) : this.setUser(data.user);\n      this.setFalseCarregamento();\n    } //Salva o token no storage\n\n\n    setToken(token) {\n      localStorage.setItem('@Auth:token', token);\n    } //Salva o admin no storage\n\n\n    setUser(user) {\n      //Adicionar apenas os dados que queremos no storage\n      let add = {\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        image: user.image,\n        name_array: user.name_array\n      };\n      localStorage.setItem('@Auth:user', JSON.stringify(add));\n    }\n\n    setUserAbilities(user) {\n      //Adicionar apenas os dados que queremos no storage\n      let add = {\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        image: user.image,\n        name_array: user.name_array,\n        abilities: user.abilities\n      };\n      localStorage.setItem('@Auth:user', JSON.stringify(add));\n    }\n\n    setNivel(nivel) {\n      localStorage.setItem('@Auth:nivel', nivel);\n    } //Retorna o valor do token\n\n\n    get() {\n      return localStorage.getItem('@Auth:token');\n    } //Retorna os dados do usuário com objeto\n\n\n    getUser() {\n      let userString = localStorage.getItem('@Auth:user');\n\n      if (userString) {\n        let userObj = JSON.parse(userString);\n        return userObj;\n      }\n    }\n\n    getNivel() {\n      return localStorage.getItem('@Auth:nivel');\n    } //Boolean de se existe Token no Storage\n\n\n    getToken() {\n      if (localStorage.getItem('@Auth:token')) {\n        return true;\n      }\n\n      return false;\n    } //Ao sair, remove todos os tokens salvos\n\n\n    remove() {\n      localStorage.removeItem('@Auth:token');\n      localStorage.removeItem('@Auth:user');\n      localStorage.removeItem('@Auth:nivel');\n      localStorage.removeItem('@Auth:loading');\n    }\n\n    loggedIn() {\n      return this.getToken();\n    } //Seta que logou, mas não aconteceu o carregamento ainda\n\n\n    setFalseCarregamento() {\n      localStorage.setItem('@Auth:loading', 'false');\n    } //Verifica se já carregou a página\n\n\n    getCarregamento() {\n      return localStorage.getItem('@Auth:loading');\n    }\n\n    setTrueCarregamento() {\n      localStorage.setItem('@Auth:loading', 'true');\n    }\n\n  }\n\n  TokenService.ɵfac = function TokenService_Factory(t) {\n    return new (t || TokenService)();\n  };\n\n  TokenService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: TokenService,\n    factory: TokenService.ɵfac,\n    providedIn: 'root'\n  });\n  return TokenService;\n})();","map":null,"metadata":{},"sourceType":"module"}